CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(acinerella C)
SET(CMAKE_C_FLAGS "-g -O0")
IF (UNIX)
  SET(__PLATFORM PLATFORM_LINUX)
ELSE (UNIX)
  SET(__PLATFORM PLATFORM_WINDOWS)
ENDIF (UNIX)
CONFIGURE_FILE(config.h.in ${CMAKE_CURRENT_BINARY_DIR}/config.h)
ADD_LIBRARY(acinerella SHARED acinerella.c)
TARGET_LINK_LIBRARIES(acinerella avformat avcodec avutil swscale pthread z m)
ADD_EXECUTABLE(test test.c)
TARGET_LINK_LIBRARIES(test ${CMAKE_CURRENT_BINARY_DIR}/libacinerella.so)

